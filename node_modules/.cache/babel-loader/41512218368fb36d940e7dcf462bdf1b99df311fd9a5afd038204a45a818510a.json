{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{getAccountDetails,getClientApps}from\"../backend/api\";import Header from\"../components/Header\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[user,setUser]=useState({email:\"\",name:\"\",id:null});const[clientApps,setClientApps]=useState([]);const[menuOpen,setMenuOpen]=useState(false);const navigate=useNavigate();const menuRef=useRef(null);useEffect(()=>{getAccountDetails().then(data=>{setUser({email:data.data.email,name:data.data.username,id:data.data.id});}).catch(error=>{console.error(\"Errore nel recupero dei dettagli dell'account:\",error);navigate(\"/account/login\");});},[navigate]);useEffect(()=>{if(user.id){getClientApps().then(apps=>{setClientApps(apps.filter(app=>app.user_id===user.id));}).catch(err=>console.error(\"Errore nel recupero delle app:\",err));}},[user.id]);const handleClickOutside=event=>{if(menuRef.current&&!menuRef.current.contains(event.target)){setMenuOpen(false);}};useEffect(()=>{document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[]);const huberwayLinks=[{name:\"HubConnect\",description:\"Centralized management of Sales and marketing\",url:\"https://app.huberway.com\",icons:[\"https://dev.huberway.com/icon/sales.svg\",\"https://dev.huberway.com/icon/marketing.svg\"// \"https://dev.huberway.com/icon/smartchat.svg\",\n]},{name:\"SmartChat AI\",description:\"Support your customers with AI-powered chatbots\",url:\"#\",icons:[\"https://dev.huberway.com/icon/smartchat.svg\"]},{name:\"ContentFlow\",description:\"Content management, E-Commerce and Web App Development\",url:\"#\",icons:[\"https://dev.huberway.com/icon/content.svg\"]},{name:\"Web Analytics\",description:\"Detailed analysis of traffic and conversions\",url:\"https://analytics.huberway.com\"}];return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"software-list dynamic\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Apps\"}),/*#__PURE__*/_jsx(\"div\",{class:\"grid-container\",children:huberwayLinks.map(software=>/*#__PURE__*/_jsxs(\"a\",{href:software.url,className:`software-card dynamic-card ${software.url===\"#\"?\"coming-soon\":\"\"}`,onClick:e=>software.url===\"#\"&&e.preventDefault()// Previene il click se in Coming Soon\n,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[software.icons&&software.icons.map((icon,index)=>/*#__PURE__*/_jsx(\"img\",{src:icon,alt:\"\",style:{height:\"30px\",marginRight:\"5px\"}},index)),software.name]}),/*#__PURE__*/_jsx(\"p\",{children:software.description})]}),software.url===\"#\"&&/*#__PURE__*/_jsx(\"span\",{className:\"coming-soon-badge\",children:\"Coming Soon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-hover-effect\"})]},software.name))})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Apps\"}),/*#__PURE__*/_jsx(\"div\",{class:\"grid-container\",children:clientApps.map(software=>/*#__PURE__*/_jsxs(\"a\",{href:software.url,className:\"software-card dynamic-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:software.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Access \",software.name,\" tools and services\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-hover-effect\"})]},software.name))})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useRef","useNavigate","Link","getAccountDetails","getClientApps","Header","jsx","_jsx","jsxs","_jsxs","Dashboard","user","setUser","email","name","id","clientApps","setClientApps","menuOpen","setMenuOpen","navigate","menuRef","then","data","username","catch","error","console","apps","filter","app","user_id","err","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","huberwayLinks","description","url","icons","className","children","class","map","software","href","onClick","e","preventDefault","icon","index","src","alt","style","height","marginRight"],"sources":["/Users/macbookpro/Documents/Piattaforme-Huberway/Authentication/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { getAccountDetails, getClientApps } from \"../backend/api\";\nimport Header from \"../components/Header\";\n\nconst Dashboard = () => {\n  const [user, setUser] = useState({ email: \"\", name: \"\", id: null });\n  const [clientApps, setClientApps] = useState([]);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const navigate = useNavigate();\n  const menuRef = useRef(null);\n\n  useEffect(() => {\n    getAccountDetails()\n      .then((data) => {\n        setUser({\n          email: data.data.email,\n          name: data.data.username,\n          id: data.data.id,\n        });\n      })\n      .catch((error) => {\n        console.error(\"Errore nel recupero dei dettagli dell'account:\", error);\n        navigate(\"/account/login\");\n      });\n  }, [navigate]);\n\n  useEffect(() => {\n    if (user.id) {\n      getClientApps()\n        .then((apps) => {\n          setClientApps(apps.filter((app) => app.user_id === user.id));\n        })\n        .catch((err) => console.error(\"Errore nel recupero delle app:\", err));\n    }\n  }, [user.id]);\n\n\n  const handleClickOutside = (event) => {\n    if (menuRef.current && !menuRef.current.contains(event.target)) {\n      setMenuOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const huberwayLinks = [\n    {\n      name: \"HubConnect\",\n      description: \"Centralized management of Sales and marketing\",\n      url: \"https://app.huberway.com\",\n      icons: [\n        \"https://dev.huberway.com/icon/sales.svg\",\n        \"https://dev.huberway.com/icon/marketing.svg\",\n        // \"https://dev.huberway.com/icon/smartchat.svg\",\n      ],\n    },\n    {\n      name: \"SmartChat AI\",\n      description: \"Support your customers with AI-powered chatbots\",\n      url: \"#\",\n      icons: [\"https://dev.huberway.com/icon/smartchat.svg\"],\n    },\n    {\n      name: \"ContentFlow\",\n      description: \"Content management, E-Commerce and Web App Development\",\n      url: \"#\",\n      icons: [\"https://dev.huberway.com/icon/content.svg\"],\n    },\n    {\n      name: \"Web Analytics\",\n      description: \"Detailed analysis of traffic and conversions\",\n      url: \"https://analytics.huberway.com\",\n    },\n  ];\n\n  return (\n    <div className=\"dashboard-container\">\n     <Header></Header>\n      <main className=\"software-list dynamic\">\n        <section>\n          <h2>Apps</h2>\n          <div class=\"grid-container\">\n            {huberwayLinks.map((software) => (\n              <a\n                key={software.name}\n                href={software.url}\n                className={`software-card dynamic-card ${\n                  software.url === \"#\" ? \"coming-soon\" : \"\"\n                }`}\n                onClick={(e) => software.url === \"#\" && e.preventDefault()} // Previene il click se in Coming Soon\n              >\n                <div className=\"card-content\">\n                  <h3>\n                    {software.icons &&\n                      software.icons.map((icon, index) => (\n                        <img\n                          key={index}\n                          src={icon}\n                          alt=\"\"\n                          style={{ height: \"30px\", marginRight: \"5px\" }}\n                        />\n                      ))}\n                    {software.name}\n                  </h3>\n                  <p>{software.description}</p>\n                </div>\n                {software.url === \"#\" && (\n                  <span className=\"coming-soon-badge\">Coming Soon</span>\n                )}\n                <div className=\"card-hover-effect\"></div>\n              </a>\n            ))}\n          </div>\n        </section>\n        <section>\n          <h2>My Apps</h2>\n          <div class=\"grid-container\">\n            {clientApps.map((software) => (\n              <a\n                key={software.name}\n                href={software.url}\n                className=\"software-card dynamic-card\"\n              >\n                <div className=\"card-content\">\n                  <h3>{software.name}</h3>\n                  <p>Access {software.name} tools and services</p>\n                </div>\n                <div className=\"card-hover-effect\"></div>\n              </a>\n            ))}\n          </div>\n        </section>\n      </main>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}