{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import{useNavigate}from'react-router-dom';import{getAccountDetails,getClientApps}from'../backend/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[user,setUser]=useState({email:'',name:'',id:null});const[clientApps,setClientApps]=useState([]);const[menuOpen,setMenuOpen]=useState(false);const navigate=useNavigate();const menuRef=useRef(null);useEffect(()=>{getAccountDetails().then(data=>{setUser({email:data.data.email,name:data.data.username,id:data.data.id});}).catch(error=>{console.error('Errore nel recupero dei dettagli dell\\'account:',error);navigate('/account/login');});},[navigate]);useEffect(()=>{if(user.id){getClientApps().then(apps=>{setClientApps(apps.filter(app=>app.user_id===user.id));}).catch(err=>console.error('Errore nel recupero delle app:',err));}},[user.id]);const handleLogout=()=>{// Logica per il logout\nnavigate('/account/login');};const toggleMenu=()=>{setMenuOpen(!menuOpen);};const handleClickOutside=event=>{if(menuRef.current&&!menuRef.current.contains(event.target)){setMenuOpen(false);}};useEffect(()=>{document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const huberwayLinks=[{name:'CRM',url:'https://app.huberway.com'},// { name: 'Email Marketing', url: 'https://campaign.huberway.com' },\n{name:'Web Analytics',url:'https://analytics.huberway.com'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.huberway.com/site/logo-dark.svg\",alt:\"Huberway Logo\",className:\"logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu\",ref:menuRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",onClick:toggleMenu,children:[\"Hello, \",user.name,\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fal fa-chevron-down\"})]}),menuOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu show\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{onClick:()=>navigate('/settings'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fal fa-cog\"}),\" Settings\"]}),/*#__PURE__*/_jsxs(\"li\",{onClick:()=>navigate('/billing'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fal fa-credit-card\"}),\" Billing\"]}),/*#__PURE__*/_jsx(\"hr\",{className:\"hr-dash\"}),/*#__PURE__*/_jsxs(\"li\",{onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fal fa-sign-out\"}),\" Logout\"]})]})})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"software-list dynamic\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Apps\"}),/*#__PURE__*/_jsx(\"div\",{class:\"grid-container\",children:huberwayLinks.map(software=>/*#__PURE__*/_jsxs(\"a\",{href:software.url,className:\"software-card dynamic-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:software.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Access \",software.name,\" tools and services\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-hover-effect\"})]},software.name))})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Apps\"}),/*#__PURE__*/_jsx(\"div\",{class:\"grid-container\",children:clientApps.map(software=>/*#__PURE__*/_jsxs(\"a\",{href:software.url,className:\"software-card dynamic-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:software.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Access \",software.name,\" tools and services\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-hover-effect\"})]},software.name))})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useRef","useNavigate","getAccountDetails","getClientApps","jsx","_jsx","jsxs","_jsxs","Dashboard","user","setUser","email","name","id","clientApps","setClientApps","menuOpen","setMenuOpen","navigate","menuRef","then","data","username","catch","error","console","apps","filter","app","user_id","err","handleLogout","toggleMenu","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","huberwayLinks","url","className","children","src","alt","ref","onClick","class","map","software","href"],"sources":["/Users/macbookpro/Documents/Piattaforme-Huberway/Authentication/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getAccountDetails, getClientApps } from '../backend/api';\n\nconst Dashboard = () => {\n    const [user, setUser] = useState({ email: '', name: '', id: null });\n    const [clientApps, setClientApps] = useState([]);\n    const [menuOpen, setMenuOpen] = useState(false);\n    const navigate = useNavigate();\n    const menuRef = useRef(null);\n\n    useEffect(() => {\n        getAccountDetails()\n            .then(data => {\n                setUser({ email: data.data.email, name: data.data.username, id: data.data.id });\n            })\n            .catch(error => {\n                console.error('Errore nel recupero dei dettagli dell\\'account:', error);\n                navigate('/account/login');\n            });\n    }, [navigate]);\n\n    useEffect(() => {\n        if (user.id) {\n            getClientApps()\n                .then(apps => {\n                    setClientApps(apps.filter(app => app.user_id === user.id));\n                })\n                .catch(err => console.error('Errore nel recupero delle app:', err));\n        }\n    }, [user.id]);\n\n    const handleLogout = () => {\n        // Logica per il logout\n        navigate('/account/login');\n    };\n\n    const toggleMenu = () => {\n        setMenuOpen(!menuOpen);\n    };\n\n    const handleClickOutside = (event) => {\n        if (menuRef.current && !menuRef.current.contains(event.target)) {\n            setMenuOpen(false);\n        }\n    };\n\n    useEffect(() => {\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    const huberwayLinks = [\n        { name: 'CRM', url: 'https://app.huberway.com' },\n        // { name: 'Email Marketing', url: 'https://campaign.huberway.com' },\n        { name: 'Web Analytics', url: 'https://analytics.huberway.com' }\n    ];\n\n    return (\n        <div className=\"dashboard-container\">\n            <header className=\"header\">\n                <img src=\"https://cdn.huberway.com/site/logo-dark.svg\" alt=\"Huberway Logo\" className=\"logo\" />\n                <div className=\"user-menu\" ref={menuRef}>\n                    <div className=\"user-info\" onClick={toggleMenu}>\n                        Hello, {user.name} <i className='fal fa-chevron-down'></i>\n                    </div>\n                    {menuOpen && (\n                        <div className=\"dropdown-menu show\">\n                            <ul>\n                                <li onClick={() => navigate('/settings')}><i className='fal fa-cog'></i> Settings</li>\n                                <li onClick={() => navigate('/billing')}><i className='fal fa-credit-card'></i> Billing</li>\n                                <hr className='hr-dash'></hr>\n                                <li onClick={handleLogout}><i className='fal fa-sign-out'></i> Logout</li>\n                            </ul>\n                        </div>\n                    )}\n                </div>\n            </header>\n            <main className=\"software-list dynamic\">\n                <section>\n                    <h2>Apps</h2>\n                    <div class=\"grid-container\">\n                        {huberwayLinks.map((software) => (\n                            <a key={software.name} href={software.url} className=\"software-card dynamic-card\">\n                                <div className=\"card-content\">\n                                    <h3>{software.name}</h3>\n                                    <p>Access {software.name} tools and services</p>\n                                </div>\n                                <div className=\"card-hover-effect\"></div>\n                            </a>\n                        ))}\n                    </div>\n                </section>\n                <section>\n                    <h2>My Apps</h2>\n                    <div class=\"grid-container\">\n                        {clientApps.map((software) => (\n                            <a key={software.name} href={software.url} className=\"software-card dynamic-card\">\n                                <div className=\"card-content\">\n                                    <h3>{software.name}</h3>\n                                    <p>Access {software.name} tools and services</p>\n                                </div>\n                                <div className=\"card-hover-effect\"></div>\n                            </a>\n                        ))}\n                    </div>\n                </section>\n            </main>\n        </div>\n    );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}