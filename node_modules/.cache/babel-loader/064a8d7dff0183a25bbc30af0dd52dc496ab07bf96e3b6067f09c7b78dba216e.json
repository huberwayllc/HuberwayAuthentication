{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Documents/Piattaforme-Huberway/HelpDesk/src/pages/Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport SidebarSites from '../components/SidebarSites';\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport 'datatables.net';\nimport { getCookie, loadScriptsSequentially } from '../utils';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const [sites, setSites] = useState([]);\n  useEffect(() => {\n    // const authToken = '774766dc33eb73f3abcbb0b19a4f46f4';\n\n    const authToken = Cookies.get('auth_token');\n    caricaSiti(authToken);\n\n    // Carica jQuery e altri script necessari\n    const script = document.createElement('script');\n    script.src = \"https://app.huberway.org/assets/plugins/jquery/jquery-3.2.1.min.js?v=\" + Date.now();\n    script.onload = () => {\n      loadScriptsSequentially([\"https://app.huberway.org/assets/plugins/pace/pace.min.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/liga.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/modernizr.custom.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/jquery-ui/jquery-ui.min.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/popper/umd/popper.min.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/bootstrap/js/bootstrap.min.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/jquery/jquery-easy.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/jquery-unveil/jquery.unveil.min.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/jquery-ios-list/jquery.ioslist.min.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/jquery-actual/jquery.actual.min.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/jquery-scrollbar/jquery.scrollbar.min.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/jquery-datatable/media/js/jquery.dataTables.min.js\", \"https://app.huberway.org/assets/plugins/jquery-datatable/extensions/TableTools/js/dataTables.tableTools.min.js\", \"https://app.huberway.org/assets/plugins/jquery-datatable/media/js/dataTables.bootstrap.js\", \"https://app.huberway.org/assets/plugins/jquery-datatable/extensions/Bootstrap/jquery-datatable-bootstrap.js\", \"https://app.huberway.org/assets/plugins/datatables-responsive/js/datatables.responsive.js\", \"https://app.huberway.org/assets/plugins/select2/js/select2.full.min.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/classie/classie.js?v=\" + Date.now(), \"https://app.huberway.org/assets/plugins/jquery-validation/js/jquery.validate.min.js?v=\" + Date.now(), \"https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.js?v=\" + Date.now()]).then(() => {\n        // Inizializza DataTables solo dopo che tutti gli script sono caricati\n        // initializeDataTable();\n      });\n    };\n    document.body.appendChild(script);\n    return () => {\n      document.body.removeChild(script);\n    };\n  }, []);\n  const caricaSiti = authToken => {\n    $.ajax({\n      url: 'https://api.huberway.com/WebsiteController/websites',\n      type: 'POST',\n      data: JSON.stringify({\n        auth_token: authToken\n      }),\n      contentType: 'application/json',\n      success: function (response) {\n        if (response.success === false) {\n          console.error('Errore nel caricamento dei siti.');\n        } else {\n          setSites(response.data);\n          // Inizializza DataTables dopo che i siti sono stati caricati\n          setTimeout(function () {\n            initializeDataTable();\n          }, 200);\n        }\n      },\n      error: function (xhr, status, error) {\n        console.error('Errore nella richiesta', error);\n      }\n    });\n  };\n  const initializeDataTable = () => {\n    const table = $('#basicTable').DataTable({\n      sDom: 't',\n      destroy: true,\n      paging: false,\n      scrollCollapse: true,\n      aoColumnDefs: [{\n        bSortable: false,\n        aTargets: [0]\n      }],\n      order: [[1, 'desc']]\n    });\n    $('#basicTable').on('click', 'input[type=checkbox]', function () {\n      if ($(this).is(':checked')) {\n        $(this).closest('tr').addClass('selected');\n      } else {\n        $(this).closest('tr').removeClass('selected');\n      }\n    });\n    return () => {\n      if (table) {\n        table.destroy(true);\n      }\n    };\n  };\n  const generaSparkline = data => {\n    let larghezzaSVG = 95;\n    let altezzaSVG = 13;\n    let larghezzaBarra = 2;\n    let maxVisite = Math.max(...data);\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: larghezzaSVG,\n      height: altezzaSVG,\n      viewBox: `0 0 ${larghezzaSVG} ${altezzaSVG}`,\n      children: data.map((visite, index) => {\n        let altezzaBarra = visite / maxVisite * altezzaSVG;\n        let x = index * larghezzaBarra;\n        let y = altezzaSVG - altezzaBarra;\n        return /*#__PURE__*/_jsxDEV(\"rect\", {\n          x: x,\n          y: y,\n          height: altezzaBarra,\n          width: \"1\",\n          className: \"stats-sparkline__bar\"\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this);\n  };\n  const openSettings = websiteId => {\n    console.log('Apri le impostazioni per il sito con ID:', websiteId);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(Home, \"ISPVfLuXtbdQUPQ37sB2oIXuAzg=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","SidebarSites","$","Cookies","getCookie","loadScriptsSequentially","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_s","sites","setSites","authToken","get","caricaSiti","script","document","createElement","src","Date","now","onload","then","body","appendChild","removeChild","ajax","url","type","data","JSON","stringify","auth_token","contentType","success","response","console","error","setTimeout","initializeDataTable","xhr","status","table","DataTable","sDom","destroy","paging","scrollCollapse","aoColumnDefs","bSortable","aTargets","order","on","is","closest","addClass","removeClass","generaSparkline","larghezzaSVG","altezzaSVG","larghezzaBarra","maxVisite","Math","max","width","height","viewBox","children","map","visite","index","altezzaBarra","x","y","className","fileName","_jsxFileName","lineNumber","columnNumber","openSettings","websiteId","log","_c","$RefreshReg$"],"sources":["/Users/macbookpro/Documents/Piattaforme-Huberway/HelpDesk/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport SidebarSites from '../components/SidebarSites';\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport 'datatables.net';\nimport { getCookie, loadScriptsSequentially } from '../utils';\n\nfunction Home() {\n    const [sites, setSites] = useState([]);\n\n    useEffect(() => {\n        // const authToken = '774766dc33eb73f3abcbb0b19a4f46f4';\n\n        const authToken = Cookies.get('auth_token');\n        caricaSiti(authToken);\n\n        // Carica jQuery e altri script necessari\n        const script = document.createElement('script');\n        script.src = \"https://app.huberway.org/assets/plugins/jquery/jquery-3.2.1.min.js?v=\" + Date.now();\n        script.onload = () => {\n            loadScriptsSequentially([\n                \"https://app.huberway.org/assets/plugins/pace/pace.min.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/liga.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/modernizr.custom.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/jquery-ui/jquery-ui.min.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/popper/umd/popper.min.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/bootstrap/js/bootstrap.min.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/jquery/jquery-easy.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/jquery-unveil/jquery.unveil.min.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/jquery-ios-list/jquery.ioslist.min.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/jquery-actual/jquery.actual.min.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/jquery-scrollbar/jquery.scrollbar.min.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/jquery-datatable/media/js/jquery.dataTables.min.js\",\n                \"https://app.huberway.org/assets/plugins/jquery-datatable/extensions/TableTools/js/dataTables.tableTools.min.js\",\n                \"https://app.huberway.org/assets/plugins/jquery-datatable/media/js/dataTables.bootstrap.js\",\n                \"https://app.huberway.org/assets/plugins/jquery-datatable/extensions/Bootstrap/jquery-datatable-bootstrap.js\",\n                \"https://app.huberway.org/assets/plugins/datatables-responsive/js/datatables.responsive.js\",\n                \"https://app.huberway.org/assets/plugins/select2/js/select2.full.min.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/classie/classie.js?v=\" + Date.now(),\n                \"https://app.huberway.org/assets/plugins/jquery-validation/js/jquery.validate.min.js?v=\" + Date.now(),\n                \"https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.js?v=\" + Date.now(),\n            ]).then(() => {\n                // Inizializza DataTables solo dopo che tutti gli script sono caricati\n                // initializeDataTable();\n            });\n        };\n        document.body.appendChild(script);\n\n        return () => {\n            document.body.removeChild(script);\n        };\n    }, []);\n\n    const caricaSiti = (authToken) => {\n        $.ajax({\n            url: 'https://api.huberway.com/WebsiteController/websites',\n            type: 'POST',\n            data: JSON.stringify({ auth_token: authToken }),\n            contentType: 'application/json',\n            success: function (response) {\n                if (response.success === false) {\n                    console.error('Errore nel caricamento dei siti.');\n                } else {\n                    setSites(response.data);\n                    // Inizializza DataTables dopo che i siti sono stati caricati\n                    setTimeout(function () {\n                        initializeDataTable();\n                    }, 200);\n\n                }\n            },\n            error: function (xhr, status, error) {\n                console.error('Errore nella richiesta', error);\n            }\n        });\n    };\n\n    const initializeDataTable = () => {\n        const table = $('#basicTable').DataTable({\n            sDom: 't',\n            destroy: true,\n            paging: false,\n            scrollCollapse: true,\n            aoColumnDefs: [{ bSortable: false, aTargets: [0] }],\n            order: [[1, 'desc']],\n        });\n\n        $('#basicTable').on('click', 'input[type=checkbox]', function () {\n            if ($(this).is(':checked')) {\n                $(this).closest('tr').addClass('selected');\n            } else {\n                $(this).closest('tr').removeClass('selected');\n            }\n        });\n\n        return () => {\n            if (table) {\n                table.destroy(true);\n            }\n        };\n    };\n\n    const generaSparkline = (data) => {\n        let larghezzaSVG = 95;\n        let altezzaSVG = 13;\n        let larghezzaBarra = 2;\n\n        let maxVisite = Math.max(...data);\n\n        return (\n            <svg width={larghezzaSVG} height={altezzaSVG} viewBox={`0 0 ${larghezzaSVG} ${altezzaSVG}`}>\n                {data.map((visite, index) => {\n                    let altezzaBarra = (visite / maxVisite) * altezzaSVG;\n                    let x = index * larghezzaBarra;\n                    let y = altezzaSVG - altezzaBarra;\n                    return <rect key={index} x={x} y={y} height={altezzaBarra} width=\"1\" className=\"stats-sparkline__bar\" />;\n                })}\n            </svg>\n        );\n    };\n\n    const openSettings = (websiteId) => {\n        console.log('Apri le impostazioni per il sito con ID:', websiteId);\n    };\n\n    return (\n        <></>\n    );\n}\n\nexport default Home;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}